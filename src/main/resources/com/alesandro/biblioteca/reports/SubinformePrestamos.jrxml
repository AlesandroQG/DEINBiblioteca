<!-- Created with Jaspersoft Studio version 7.0.1.final using JasperReports Library version 7.0.1-573496633c2b4074e32f433154b543003f7d2498  -->
<jasperReport name="SubinformePrestamos" language="java" columnCount="1" pageWidth="595" pageHeight="842" orientation="Landscape" columnWidth="595" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="5fbf7cf1-c3fe-410b-9332-41774358d67e">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MariaDB Contra Docker en Local"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Column header" forecolor="#666666" fontName="Times New Roman" fontSize="14.0" bold="true"/>
	<style name="Table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<dataset name="actuales" uuid="e3343e54-9c2b-43a4-8dae-2620a1bffe26">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MariaDB Contra Docker en Local"/>
		<parameter name="codigo_libro" class="java.lang.Integer">
			<description><![CDATA[]]></description>
		</parameter>
		<query language="SQL"><![CDATA[SELECT libros.`Prestamo`.id_prestamo,
	libros.`Alumno`.nombre,
	libros.`Alumno`.apellido1,
	libros.`Alumno`.apellido2,
	libros.`Prestamo`.fecha_prestamo
FROM libros.`Prestamo`,
	libros.`Alumno`
WHERE 
	 libros.`Prestamo`.dni_alumno = libros.`Alumno`.dni 
	 AND libros.`Prestamo`.codigo_libro = $P{codigo_libro}]]></query>
		<field name="id_prestamo" class="java.lang.Integer">
			<property name="com.jaspersoft.studio.field.name" value="id_prestamo"/>
			<property name="com.jaspersoft.studio.field.label" value="id_prestamo"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Prestamo"/>
		</field>
		<field name="nombre" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="nombre"/>
			<property name="com.jaspersoft.studio.field.label" value="nombre"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Alumno"/>
		</field>
		<field name="apellido1" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="apellido1"/>
			<property name="com.jaspersoft.studio.field.label" value="apellido1"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Alumno"/>
		</field>
		<field name="apellido2" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="apellido2"/>
			<property name="com.jaspersoft.studio.field.label" value="apellido2"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Alumno"/>
		</field>
		<field name="fecha_prestamo" class="java.sql.Timestamp">
			<property name="com.jaspersoft.studio.field.name" value="fecha_prestamo"/>
			<property name="com.jaspersoft.studio.field.label" value="fecha_prestamo"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Prestamo"/>
		</field>
	</dataset>
	<dataset name="historicos" uuid="3450dbc2-84e5-4627-b76f-a4edd57bcb7e">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MariaDB Contra Docker en Local"/>
		<parameter name="codigo_libro" class="java.lang.Integer"/>
		<query language="SQL"><![CDATA[SELECT libros.`Historico_prestamo`.id_prestamo,
	libros.`Alumno`.nombre,
	libros.`Alumno`.apellido1,
	libros.`Alumno`.apellido2,
	libros.`Historico_prestamo`.fecha_prestamo,
	libros.`Historico_prestamo`.fecha_devolucion
FROM libros.`Historico_prestamo`,
	libros.`Alumno`
WHERE 
	 libros.`Historico_prestamo`.dni_alumno = libros.`Alumno`.dni 
	 AND libros.`Historico_prestamo`.codigo_libro = $P{codigo_libro}]]></query>
		<field name="id_prestamo" class="java.lang.Integer">
			<property name="com.jaspersoft.studio.field.name" value="id_prestamo"/>
			<property name="com.jaspersoft.studio.field.label" value="id_prestamo"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Historico_prestamo"/>
		</field>
		<field name="nombre" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="nombre"/>
			<property name="com.jaspersoft.studio.field.label" value="nombre"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Alumno"/>
		</field>
		<field name="apellido1" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="apellido1"/>
			<property name="com.jaspersoft.studio.field.label" value="apellido1"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Alumno"/>
		</field>
		<field name="apellido2" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="apellido2"/>
			<property name="com.jaspersoft.studio.field.label" value="apellido2"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Alumno"/>
		</field>
		<field name="fecha_prestamo" class="java.sql.Timestamp">
			<property name="com.jaspersoft.studio.field.name" value="fecha_prestamo"/>
			<property name="com.jaspersoft.studio.field.label" value="fecha_prestamo"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Historico_prestamo"/>
		</field>
		<field name="fecha_devolucion" class="java.sql.Timestamp">
			<property name="com.jaspersoft.studio.field.name" value="fecha_devolucion"/>
			<property name="com.jaspersoft.studio.field.label" value="fecha_devolucion"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="Historico_prestamo"/>
		</field>
	</dataset>
	<parameter name="codigo" forPrompting="false" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[1]]></defaultValueExpression>
	</parameter>
	<query language="sql"><![CDATA[select * from libros.Prestamo]]></query>
	<field name="id_prestamo" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="id_prestamo"/>
		<property name="com.jaspersoft.studio.field.label" value="id_prestamo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Prestamo"/>
	</field>
	<field name="dni_alumno" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="dni_alumno"/>
		<property name="com.jaspersoft.studio.field.label" value="dni_alumno"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Prestamo"/>
	</field>
	<field name="codigo_libro" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="codigo_libro"/>
		<property name="com.jaspersoft.studio.field.label" value="codigo_libro"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Prestamo"/>
	</field>
	<field name="fecha_prestamo" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="fecha_prestamo"/>
		<property name="com.jaspersoft.studio.field.label" value="fecha_prestamo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="Prestamo"/>
	</field>
	<background splitType="Stretch"/>
	<summary height="200">
		<element kind="staticText" uuid="ffbc0dc8-d781-478c-bf14-99a1dd24c47f" mode="Opaque" x="0" y="0" width="250" height="20" forecolor="#FFFFFF" backcolor="#00B441" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Actuales]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="139ac3bf-00ad-4ac1-9334-3f3881e0bdd7"/>
		</element>
		<element kind="staticText" uuid="f8f1690a-586c-407f-9f26-4f4507492542" mode="Opaque" x="260" y="0" width="290" height="20" forecolor="#FFFFFF" backcolor="#00B441" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Históricos]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="139ac3bf-00ad-4ac1-9334-3f3881e0bdd7"/>
		</element>
		<element kind="component" uuid="3891a427-33b6-4a0d-b117-523818a44911" x="0" y="20" width="250" height="180">
			<component kind="table">
				<datasetRun uuid="c85219f7-c617-4dea-a24e-4d6ffba5d0e6" subDataset="actuales">
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<parameter name="codigo_libro">
						<expression><![CDATA[$P{codigo}]]></expression>
					</parameter>
				</datasetRun>
				<column kind="single" uuid="06bb1850-5075-4f43-9a30-795b117d0e4a" width="63">
					<columnHeader height="30" style="Table_CH">
						<element kind="staticText" uuid="3d5d09fc-10b4-470e-8683-fe45ffe2941e" x="0" y="0" width="63" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[ID]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table_TD">
						<element kind="textField" uuid="52569cb1-4690-4135-8476-66a1bd7467e2" x="0" y="0" width="63" height="30" hTextAlign="Right" vTextAlign="Middle">
							<expression><![CDATA[$F{id_prestamo}]]></expression>
						</element>
					</detailCell>
				</column>
				<column kind="single" uuid="b1429a74-f63c-40b8-bd7a-31cc6bfe1fc4" width="63">
					<columnHeader height="30" style="Table_CH">
						<element kind="staticText" uuid="ad034b59-af86-4a10-9950-b28492efe27b" x="0" y="0" width="63" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[Nombre]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table_TD">
						<element kind="textField" uuid="e3f223e3-b087-4db4-b83c-d0d03ee8a4d7" x="0" y="0" width="63" height="30" hTextAlign="Center" vTextAlign="Middle">
							<expression><![CDATA[$F{nombre}]]></expression>
						</element>
					</detailCell>
				</column>
				<column kind="single" uuid="29149d8e-1ad2-4050-8444-ff4502d2a85e" width="62">
					<columnHeader height="30" style="Table_CH">
						<element kind="staticText" uuid="752645f4-9bce-432b-b77a-44ba525e007e" x="0" y="0" width="62" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[Apellidos]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table_TD">
						<element kind="textField" uuid="8207429b-b19b-43c7-af2b-9282e69c2d77" x="0" y="0" width="62" height="30" hTextAlign="Center" vTextAlign="Middle">
							<expression><![CDATA[$F{apellido1} + " " + $F{apellido2}]]></expression>
						</element>
					</detailCell>
				</column>
				<column kind="single" uuid="d5052b2e-016e-41ef-a043-e7f85405b607" width="62">
					<columnHeader height="30" style="Table_CH">
						<element kind="staticText" uuid="67bb31f6-e982-4f3b-b097-bf88664318da" x="0" y="0" width="62" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[Fecha préstamo]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table_TD">
						<element kind="textField" uuid="37c9fbe6-da69-4174-a2f2-63364a35f5b0" x="0" y="0" width="62" height="30" hTextAlign="Center" vTextAlign="Middle">
							<expression><![CDATA[new java.text.SimpleDateFormat("HH:mm dd/MM/yyyy").format($F{fecha_prestamo})]]></expression>
						</element>
					</detailCell>
				</column>
			</component>
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
			<property name="com.jaspersoft.studio.components.autoresize.proportional" value="true"/>
			<property name="com.jaspersoft.studio.table.style.detail" value="Table_TD"/>
			<property name="com.jaspersoft.studio.table.style.column_header" value="Table_CH"/>
			<property name="com.jaspersoft.studio.table.style.table_header" value="Table_TH"/>
		</element>
		<element kind="component" uuid="83b55147-928a-48b8-91df-b52815c2259d" x="260" y="20" width="290" height="180">
			<component kind="table">
				<datasetRun uuid="43aeaea2-ad76-4b69-8d34-c9e0ea69918a" subDataset="historicos">
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<parameter name="codigo_libro">
						<expression><![CDATA[$P{codigo}]]></expression>
					</parameter>
				</datasetRun>
				<column kind="single" uuid="75cc5a1d-5368-41d7-a474-da9fd6489f4c" width="58">
					<columnHeader height="30" style="Table 1_CH">
						<element kind="staticText" uuid="f43e738b-6c46-4ed0-b3d7-18d3ab9adcac" x="0" y="0" width="58" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[ID]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table 1_TD">
						<element kind="textField" uuid="c22a4050-f038-45dc-b7cf-c4602f316516" x="0" y="0" width="58" height="30" hTextAlign="Right" vTextAlign="Middle">
							<expression><![CDATA[$F{id_prestamo}]]></expression>
						</element>
					</detailCell>
				</column>
				<column kind="single" uuid="85d70e89-381b-4d61-aea9-f9f7a9f00b87" width="58">
					<columnHeader height="30" style="Table 1_CH">
						<element kind="staticText" uuid="24c2fa4a-964c-4748-8c15-8755b1b5664a" x="0" y="0" width="58" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[Nombre]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table 1_TD">
						<element kind="textField" uuid="0c597ceb-b5da-4467-ae77-7cc9b07afcb6" x="0" y="0" width="58" height="30" hTextAlign="Center" vTextAlign="Middle">
							<expression><![CDATA[$F{nombre}]]></expression>
						</element>
					</detailCell>
				</column>
				<column kind="single" uuid="f6199bc6-25fe-42dd-a7dc-12f51a64253a" width="58">
					<columnHeader height="30" style="Table 1_CH">
						<element kind="staticText" uuid="f0abb064-6b87-4f0f-9635-94ed2f699b8a" x="0" y="0" width="58" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[Apellidos]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table 1_TD">
						<element kind="textField" uuid="23139433-75e1-4578-9b8d-5f9a8e6ae92d" x="0" y="0" width="58" height="30" hTextAlign="Center" vTextAlign="Middle">
							<expression><![CDATA[$F{apellido1} + " " + $F{apellido2}]]></expression>
						</element>
					</detailCell>
				</column>
				<column kind="single" uuid="c7748f46-dcf6-4c9d-ac4b-9197586524aa" width="58">
					<columnHeader height="30" style="Table 1_CH">
						<element kind="staticText" uuid="08df349e-31af-47b3-8cef-b16a9ce41b96" x="0" y="0" width="58" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[Fecha préstamo]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table 1_TD">
						<element kind="textField" uuid="9b97b7da-5a88-47bb-9453-976e42b69148" x="0" y="0" width="58" height="30" hTextAlign="Center" vTextAlign="Middle">
							<expression><![CDATA[new java.text.SimpleDateFormat("HH:mm dd/MM/yyyy").format($F{fecha_prestamo})]]></expression>
						</element>
					</detailCell>
				</column>
				<column kind="single" uuid="b62089f5-106a-4945-85e7-021d900766fa" width="58">
					<columnHeader height="30" style="Table 1_CH">
						<element kind="staticText" uuid="be57cfca-f583-48cd-81db-aab6d1cb9024" x="0" y="0" width="58" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
							<text><![CDATA[Fecha devolución]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table 1_TD">
						<element kind="textField" uuid="2deeaa64-35a0-44a7-991b-9a7ccb7669ef" x="0" y="0" width="58" height="30" hTextAlign="Center" vTextAlign="Middle">
							<expression><![CDATA[new java.text.SimpleDateFormat("HH:mm dd/MM/yyyy").format($F{fecha_devolucion})]]></expression>
						</element>
					</detailCell>
				</column>
			</component>
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
			<property name="com.jaspersoft.studio.table.style.table_header" value="Table 1_TH"/>
			<property name="com.jaspersoft.studio.table.style.column_header" value="Table 1_CH"/>
			<property name="com.jaspersoft.studio.table.style.detail" value="Table 1_TD"/>
			<property name="com.jaspersoft.studio.components.autoresize.proportional" value="true"/>
		</element>
	</summary>
</jasperReport>
